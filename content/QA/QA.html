
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Questions and Answers Â· SnpHub Tutorial</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-ghcolors.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-toggle-chapters/toggle.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="../Setup/uisetting.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
    

    

    
        
        
    
        <li class="chapter " data-level="1" data-path="../../">
            
                <a href="../../">
            
                    
                        <b>1.</b>
                    
                    What is SnpHub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2" data-path="../Basic_Usage/overview.html">
            
                <a href="../Basic_Usage/overview.html">
            
                    
                        <b>2.</b>
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3" data-path="../Basic_Usage/channels.html">
            
                <a href="../Basic_Usage/channels.html">
            
                    
                        <b>3.</b>
                    
                    Channels
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="../Basic_Usage/sampleinfo.html">
            
                <a href="../Basic_Usage/sampleinfo.html">
            
                    
                        <b>3.1.</b>
                    
                    SampleInfo, a first glance of the dataset
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../Basic_Usage/vartable.html">
            
                <a href="../Basic_Usage/vartable.html">
            
                    
                        <b>3.2.</b>
                    
                    VarTable, export region-specific variation tables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../Basic_Usage/heatmap.html">
            
                <a href="../Basic_Usage/heatmap.html">
            
                    
                        <b>3.3.</b>
                    
                    Heatmap, visualize genotypes in matrix
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../Basic_Usage/hapnet.html">
            
                <a href="../Basic_Usage/hapnet.html">
            
                    
                        <b>3.4.</b>
                    
                    HapNet, construct a haplotype network
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../Basic_Usage/phylotree.html">
            
                <a href="../Basic_Usage/phylotree.html">
            
                    
                        <b>3.5.</b>
                    
                    PhyloTree, visualize sample distances as a tree
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="../Basic_Usage/hapmap.html">
            
                <a href="../Basic_Usage/hapmap.html">
            
                    
                        <b>3.6.</b>
                    
                    HapMap, visualize the genotypes geographically
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="../Basic_Usage/snpfreq.html">
            
                <a href="../Basic_Usage/snpfreq.html">
            
                    
                        <b>3.7.</b>
                    
                    SnpFreq, visualize SNP annotation with gene tracks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="../Basic_Usage/seqmaker.html">
            
                <a href="../Basic_Usage/seqmaker.html">
            
                    
                        <b>3.8.</b>
                    
                    SeqMaker, create consensus sequence
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="../Setup/administration_guide.html">
            
                <a href="../Setup/administration_guide.html">
            
                    
                        <b>4.</b>
                    
                    Administration guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="../Setup/quick_deploy.html">
            
                <a href="../Setup/quick_deploy.html">
            
                    
                        <b>4.1.</b>
                    
                    General Setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../Docker/overview.html">
            
                <a href="../Docker/overview.html">
            
                    
                        <b>4.2.</b>
                    
                    Setup with Docker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../Setup/configuration.html">
            
                <a href="../Setup/configuration.html">
            
                    
                        <b>4.3.</b>
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../Setup/file-formats.html">
            
                <a href="../Setup/file-formats.html">
            
                    
                        <b>4.4.</b>
                    
                    File Formats
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="../Setup/uisetting.html">
            
                <a href="../Setup/uisetting.html">
            
                    
                        <b>4.5.</b>
                    
                    UI Setting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="5" data-path="QA.html">
            
                <a href="QA.html">
            
                    
                        <b>5.</b>
                    
                    Questions and Answers
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Questions and Answers</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#questions-and-answers"><b>5. </b>Questions and Answers</a></li><ul><li><span class="title-icon "></span><a href="#application-field"><b>5.1. </b>Application field</a></li><li><span class="title-icon "></span><a href="#inputoutput-formats"><b>5.2. </b>Input/Output formats</a></li><li><span class="title-icon "></span><a href="#configuration-of-snphub"><b>5.3. </b>Configuration of SnpHub</a></li></ul></ul></div><a href="#questions-and-answers" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="questions-and-answers"><a name="questions-and-answers" class="anchor-navigation-ex-anchor" href="#questions-and-answers"><i class="fa fa-link" aria-hidden="true"></i></a>5. Questions and Answers</h1>
<h2 id="application-field"><a name="application-field" class="anchor-navigation-ex-anchor" href="#application-field"><i class="fa fa-link" aria-hidden="true"></i></a>5.1. Application field</h2>
<h4 id="q-can-snphub-be-applied-to-other-species"><a name="q-can-snphub-be-applied-to-other-species" class="anchor-navigation-ex-anchor" href="#q-can-snphub-be-applied-to-other-species"><i class="fa fa-link" aria-hidden="true"></i></a>Q: Can SnpHub be applied to other species?</h4>
<p>A: Yes! SnpHub can be applied to any specie (both plant or animal) as long as the variation data is provided in <code>VCF format</code> or <code>.hapmap format</code>. </p>
<h2 id="inputoutput-formats"><a name="inputoutput-formats" class="anchor-navigation-ex-anchor" href="#inputoutput-formats"><i class="fa fa-link" aria-hidden="true"></i></a>5.2. Input/Output formats</h2>
<h4 id="q-does-snphub-support-to-use-snp-array-data-usually-in-hapmap-format-as-input-instead-of-vcf-format"><a name="q-does-snphub-support-to-use-snp-array-data-usually-in-hapmap-format-as-input-instead-of-vcf-format" class="anchor-navigation-ex-anchor" href="#q-does-snphub-support-to-use-snp-array-data-usually-in-hapmap-format-as-input-instead-of-vcf-format"><i class="fa fa-link" aria-hidden="true"></i></a>Q: Does SnpHub support to use SNP array data (usually in <code>.hapmap</code> format) as input (instead of VCF format)?</h4>
<p>A: Yes, SnpHub accept the variantion data in format of both VCF format (generated by re-sequencing, genotyping-by-sequencing or whole-genome exome capture sequencing) and hapmap formats (generated by microarray). To support the hapmap format, set the option <code>data_type</code> in the configuration file <code>setup.conf</code> as <code>hapmap</code>. Also, provide the path to your <code>.hapmap</code> files for the <code>path_hapmap</code> option.</p>
<h2 id="configuration-of-snphub"><a name="configuration-of-snphub" class="anchor-navigation-ex-anchor" href="#configuration-of-snphub"><i class="fa fa-link" aria-hidden="true"></i></a>5.3. Configuration of SnpHub</h2>
<h4 id="q-can-i-skip-the-pre-processing-step-i-already-have-a-prepared-data-set-and-i-believe-i-can-handle-this"><a name="q-can-i-skip-the-pre-processing-step-i-already-have-a-prepared-data-set-and-i-believe-i-can-handle-this" class="anchor-navigation-ex-anchor" href="#q-can-i-skip-the-pre-processing-step-i-already-have-a-prepared-data-set-and-i-believe-i-can-handle-this"><i class="fa fa-link" aria-hidden="true"></i></a>Q: Can I skip the pre-processing step? I already have a prepared data set, and I believe I can handle this.</h4>
<p>A: In fact, our demo is an example of skipping the pre-processing step. In the default <code>advanced_config.R</code>, we assigned the file pathes directly to the variables. That&apos;s also why users need to delete <code>advanced_config.R</code>, and then rename <code>advanced_config_O.R</code> to <code>advanced_config.R</code> at the first time setting up with their own data. Your data set should be processed as follow:</p>
<ul>
<li>FASTA: The <code>fasta</code> file should be indexed using <code>samtools</code>.</li>
</ul>
<pre class="language-"><code class="lang-sh"><span class="token comment"># Indexing fasta</span>
samtools faidx test.fasta
</code></pre>
<ul>
<li>GFF3: The <code>GFF3</code> file should be sorted, zipped by <code>bgzip</code> and indexed.</li>
</ul>
<pre class="language-"><code class="lang-sh"><span class="token comment"># Sort</span>
<span class="token function">sort</span> -k1,1 -k4,4n test.gff3 <span class="token operator">&gt;</span> test.sorted.gff3
<span class="token comment"># Zip</span>
bgzip <span class="token operator">&lt;</span> test.sorted.gff3 <span class="token operator">&gt;</span> test.sorted.gff3.gz
<span class="token comment"># Index</span>
tabix -C -p gff test.sorted.gff3.gz
</code></pre>
<ul>
<li>VCF: The <code>VCF</code> file should be converted into <code>BCF</code> format, zipped by <code>bgzip</code>, indexed by <code>bcftools</code>, then annotated by <code>SnpEff</code>. The annotated <code>BCF</code> file also needed to be indexed.</li>
</ul>
<pre class="language-"><code class="lang-sh"><span class="token comment"># Zip VCF</span>
bgzip <span class="token operator">&lt;</span> test.vcf <span class="token operator">&gt;</span> test.vcf.gz
<span class="token comment"># Index VCF</span>
bcftools index test.vcf.gz
<span class="token comment"># Convert into BCF</span>
bcftools concat test.vcf.gz -Ob -o unannotated.bcf.gz
<span class="token comment"># Index BCF</span>
bcftools index unannotated.bcf.gz
<span class="token comment"># Annotate BCF</span>
<span class="token comment"># Assuming that the SnpEff database &quot;SnphubBuilding&quot; has already been built.</span>
bcftools view unannotated.bcf.gz --threads <span class="token number">4</span> <span class="token punctuation">\</span>
    <span class="token operator">|</span> java -jar snpEff.jar -t SnphubBuilding - <span class="token punctuation">\</span>
    <span class="token operator">|</span> bcftools view --threads <span class="token number">4</span> -o output.ann.bcf.gz -Ob
<span class="token comment"># Index annotated BCF</span>
bcftools index output.ann.bcf.gz
</code></pre>
<ul>
<li><p>GeneIndex: There should be 4 columns in the file, without header, separated by <code>\t</code>. Each line describes a gene. The first column contains the chromosome, the second contains the starting site, the third contains the ending site, and the last contains the name of the gene. You can also check our demo data to get an intuitive feeling.</p>
</li>
<li><p>Other files: Files except the aforementioned ones are as described in the <a href="https://esctrionsit.github.io/snphub_tutorial/content/Setup/file-formats.html" target="_blank">&quot;File Formats&quot; section</a></p>
</li>
</ul>

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="../Setup/uisetting.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: UI Setting">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Questions and Answers","level":"5","depth":0,"previous":{"title":"UI Setting","level":"4.5","depth":1,"path":"content/Setup/uisetting.md","ref":"./content/Setup/uisetting.md","articles":[]},"dir":"ltr"},"config":{"plugins":["github","-sharing","sharing-plus","anchor-navigation-ex","-highlight","prism","prism-themes","-lunr","-search","expandable-chapters-small","toggle-chapters","splitter","code","livereload"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prism-themes/themes/prism-ghcolors.css"]},"github":{"url":"https://github.com/esctrionsit/snphub"},"livereload":{},"splitter":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"code":{"copyButtons":true},"fontsettings":{"theme":"white","family":"serif","size":2},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":false,"pageTop":{"level1Icon":"fa fa-hand-o-right","level2Icon":"fa fa-hand-o-right","level3Icon":"fa fa-hand-o-right","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"prism-themes":{},"expandable-chapters-small":{},"sharing":{"qq":false,"all":["twitter","facebook","google"],"douban":false,"facebook":false,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":false,"messenger":false,"line":false,"vk":false,"pocket":false,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true},"toggle-chapters":{}},"theme":"default","author":"","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"SnpHub Tutorial","language":"en","links":{"sidebar":{}},"gitbook":"3.2.3"},"file":{"path":"content/QA/QA.md","mtime":"2020-04-03T09:44:38.409Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-04-04T06:31:15.692Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-toggle-chapters/toggle.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

